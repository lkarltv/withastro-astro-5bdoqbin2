---
const { currentLang } = Astro.props;

// 1. Define the labels for the menu
const labels = {
  et: { home: 'Avaleht', contact: 'Kontakt', vacc: 'Vaktsineerimisest', patients: 'Patsiendile', prices: 'Hinnakiri' },
  en: { home: 'Home', contact: 'Contact', vacc: 'Vaccination', patients: 'For Patients', prices: 'Price List' },
  ru: { home: 'Главная', contact: 'Контакты', vacc: 'Вакцинация', patients: 'Пациенту', prices: 'Цены' }
};

// 2. Define the exact URLs for each page in each language
const routes = {
  et: { home: '/et/', contact: '/et/kontakt', vacc: '/et/vaktsineerimisest', patients: '/et/patsiendile', prices: '/et/hinnakiri' },
  en: { home: '/en/', contact: '/en/contact', vacc: '/en/vaccination', patients: '/en/patients', prices: '/en/pricing' },
  ru: { home: '/ru/', contact: '/ru/contact', vacc: '/ru/vaccination', patients: '/ru/patients', prices: '/ru/prices' }
};

// Get the correct set of routes and labels based on currentLang
const t = labels[currentLang] || labels.et;
const r = routes[currentLang] || routes.et;
---

<nav class="w-full bg-medical-bg/90 backdrop-blur-sm border-b border-gray-300 fixed top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16 items-center">
            
            <div class="flex-shrink-0 flex items-center">
                <a href={r.home} class="text-2xl font-light tracking-wide text-gray-800">
                    Perearst <span class="font-semibold">Ülle Lomp</span>
                </a>
            </div>

            <div class="hidden md:flex space-x-8">
                <a href={r.home} class="text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors">{t.home}</a>
                <a href={r.contact} class="text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors">{t.contact}</a>
                <a href={r.vacc} class="text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors">{t.vacc}</a>
                <a href={r.patients} class="text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors">{t.patients}</a>
                <a href={r.prices} class="text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors">{t.prices}</a>
            </div>

            <div class="flex items-center space-x-2 text-sm">
                <a href="/et/" class={`px-2 py-1 rounded ${currentLang === 'et' ? 'bg-gray-300 font-bold' : 'hover:bg-gray-200'}`}>EST</a>
                <span class="text-gray-400">|</span>
                <a href="/en/" class={`px-2 py-1 rounded ${currentLang === 'en' ? 'bg-gray-300 font-bold' : 'hover:bg-gray-200'}`}>ENG</a>
                <span class="text-gray-400">|</span>
                <a href="/ru/" class={`px-2 py-1 rounded ${currentLang === 'ru' ? 'bg-gray-300 font-bold' : 'hover:bg-gray-200'}`}>RUS</a>
            </div>
        </div>
    </div>
</nav>