---
import contactData from '../data/contact.json';

const { lang } = Astro.props;

// Labels for "Phone" and "Address"
const labels = {
    et: { phone: 'TELEFON', address: 'AADRESS', rights: 'Kõik õigused kaitstud' },
    en: { phone: 'PHONE', address: 'ADDRESS', rights: 'All rights reserved' },
    ru: { phone: 'ТЕЛЕФОН', address: 'АДРЕС', rights: 'Все права защищены' }
};

const t = labels[lang] || labels.et;

// FIX: Name is now hardcoded to Latin alphabet
const doctorName = "Ülle Lomp"; 

const currentYear = new Date().getFullYear();

// Get the Tartu location data (or fallback to the first one)
const mainLocation = contactData.locations.find(l => l.name === 'Tartu') || contactData.locations[0];
---

<footer class="bg-medical-sage text-white py-6 mt-auto">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center md:items-end gap-4">
        
        <div class="text-center md:text-left space-y-1">
            <h3 class="text-xl font-light tracking-wide mb-2">Perearst {doctorName}</h3>
            
            <p class="text-xs font-medium opacity-90 uppercase tracking-wider">
                {t.phone}: <span class="font-normal normal-case">{mainLocation.phone}</span>
            </p>
            
            <p class="text-xs font-medium opacity-90 uppercase tracking-wider">
                {t.address}: <span class="font-normal normal-case">{mainLocation.address[lang]}</span>
            </p>
        </div>

        <div class="text-center md:text-right text-xs opacity-70">
             <p>&copy; {currentYear} Perearst {doctorName}</p>
             <p>{t.rights}</p>
        </div>

    </div>
</footer>