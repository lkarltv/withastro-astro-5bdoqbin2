---
import contactData from '../data/contact.json';

const { lang } = Astro.props;

// Labels
const labels = {
    et: { phone: 'TEL', address: 'AADRESS', rights: 'Kõik õigused kaitstud' },
    en: { phone: 'PHONE', address: 'ADDRESS', rights: 'All rights reserved' },
    ru: { phone: 'ТЕЛ', address: 'АДРЕС', rights: 'Все права защищены' }
};

const t = labels[lang as keyof typeof labels] || labels.et;

// Name hardcoded to Latin
const doctorName = "Ülle Lomp"; 

const currentYear = new Date().getFullYear();
---

<footer class="bg-medical-sage text-white py-6 mt-auto">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center md:items-end gap-6 md:gap-4">
        
        <div class="text-center md:text-left pb-1">
            <h3 class="text-lg font-light tracking-wide">Perearst {doctorName}</h3>
        </div>

        <div class="flex flex-col sm:flex-row gap-6 md:gap-12 text-center md:text-left">
            {contactData.locations.map((loc) => (
                <div class="space-y-0.5">
                    <p class="text-xs font-bold opacity-80 uppercase tracking-widest mb-1">{loc.name}</p>
                    <p class="text-xs whitespace-nowrap">
                        <span class="opacity-60 text-[10px] uppercase tracking-wider mr-1">{t.phone}:</span> 
                        <span class="opacity-90">{loc.phone}</span>
                    </p>
                    <p class="text-xs whitespace-nowrap">
                        <span class="opacity-60 text-[10px] uppercase tracking-wider mr-1">{t.address}:</span> 
                        <span class="opacity-90">{loc.address[lang]}</span>
                    </p>
                </div>
            ))}
        </div>

        <div class="text-center md:text-right text-xs opacity-60 pb-1">
             <p>&copy; {currentYear} Perearst {doctorName}</p>
             <p>{t.rights}</p>
        </div>

    </div>
</footer>